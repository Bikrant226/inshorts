{"ast":null,"code":"var _jsxFileName = \"/home/bikrant/Desktop/Inshorts/client/src/components/FileUpload.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState } from 'react';\nimport './style/fileupload.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FileUpload = hi => {\n  _s();\n\n  const [file, setFile] = useState('');\n\n  const onchange = e => {\n    setFile(...hi, e.target.files[0]);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      const response = await fetch('/home', formData, {\n        method: \"POST\",\n        body: JSON.stringify({\n          heading,\n          author,\n          desc,\n          link,\n          linkname\n        })\n      });\n      const data = await response.json();\n      console.log(data);\n\n      if (data.status === 422 || !data) {\n        window.alert('Error in posting data');\n      } else {\n        window.alert('Sucessfully posted');\n        history.push('/home');\n      }\n    } catch (err) {\n      console.log(err);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: onchange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"submit\",\n        value: \"POST\",\n        onClick: handleSubmit,\n        children: \"POST IMAGE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this);\n  };\n};\n\n_s(FileUpload, \"vN+YFJBYRvKLOysC8+4J0qtzT68=\");\n\n_c = FileUpload;\nexport default FileUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"sources":["/home/bikrant/Desktop/Inshorts/client/src/components/FileUpload.js"],"names":["React","useState","FileUpload","hi","file","setFile","onchange","e","target","files","handleSubmit","preventDefault","formData","FormData","append","response","fetch","method","body","JSON","stringify","heading","author","desc","link","linkname","data","json","console","log","status","window","alert","history","push","err"],"mappings":";;;AAAA,SAAQA,KAAR,EAAcC,QAAd,QAA6B,OAA7B;AACA,OAAO,wBAAP;;;AACA,MAAMC,UAAU,GAAEC,EAAD,IAAM;AAAA;;AAEnB,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAeJ,QAAQ,CAAC,EAAD,CAA7B;;AAEA,QAAMK,QAAQ,GAAEC,CAAD,IAAK;AAChBF,IAAAA,OAAO,CAAC,GAAGF,EAAJ,EAAOI,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAP,CAAP;AACH,GAFD;;AAIA,QAAMC,YAAY,GAAC,MAAOH,CAAP,IAAW;AAC1BA,IAAAA,CAAC,CAACI,cAAF;AACA,UAAMC,QAAQ,GAAC,IAAIC,QAAJ,EAAf;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAuBV,IAAvB;;AAEA,QAAG;AACC,YAAMW,QAAQ,GAAC,MAAMC,KAAK,CAAC,OAAD,EAASJ,QAAT,EAAkB;AACxCK,QAAAA,MAAM,EAAC,MADiC;AAEzCC,QAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAChBC,UAAAA,OADgB;AACRC,UAAAA,MADQ;AACDC,UAAAA,IADC;AACIC,UAAAA,IADJ;AACSC,UAAAA;AADT,SAAf;AAFoC,OAAlB,CAA1B;AAQA,YAAMC,IAAI,GAAE,MAAMX,QAAQ,CAACY,IAAT,EAAlB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;;AACA,UAAGA,IAAI,CAACI,MAAL,KAAc,GAAd,IAAqB,CAACJ,IAAzB,EAA8B;AAC1BK,QAAAA,MAAM,CAACC,KAAP,CAAa,uBAAb;AACH,OAFD,MAEK;AACFD,QAAAA,MAAM,CAACC,KAAP,CAAa,oBAAb;AACAC,QAAAA,OAAO,CAACC,IAAR,CAAa,OAAb;AACN;AACJ,KAjBG,CAiBH,OAAMC,GAAN,EAAU;AACPP,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACH;;AACD,wBACI;AAAA,8BACD;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAoB,QAAA,QAAQ,EAAE7B;AAA9B;AAAA;AAAA;AAAA;AAAA,cADC,eAED;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,QAAhC;AAAyC,QAAA,KAAK,EAAC,MAA/C;AAAuD,QAAA,OAAO,EAAEI,YAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFC;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAMH,GA/BG;AA+BF,CAvCF;;GAAMR,U;;KAAAA,U;AAyCN,eAAeA,UAAf","sourcesContent":["import {React,useState} from 'react';\nimport './style/fileupload.css'\nconst FileUpload=(hi)=>{\n\n    const [file,setFile]=useState('');\n\n    const onchange=(e)=>{\n        setFile(...hi,e.target.files[0]);\n    }\n\n    const handleSubmit=async (e)=>{\n        e.preventDefault();\n        const formData=new FormData();\n        formData.append('file',file);\n\n        try{\n            const response=await fetch('/home',formData,{\n                method:\"POST\",\n               body:JSON.stringify({\n                   heading,author,desc,link,linkname\n               })\n            });\n   \n            \n            const data= await response.json();\n            console.log(data)\n            if(data.status===422 || !data){\n                window.alert('Error in posting data');\n            }else{\n               window.alert('Sucessfully posted');\n               history.push('/home');\n        }\n    }catch(err){\n        console.log(err);\n    }\n    return(\n        <div>\n       <input type=\"file\"  onChange={onchange} />\n       <button type=\"submit\" className=\"submit\" value='POST'  onClick={handleSubmit}>POST IMAGE</button>\n       </div>\n    )\n}}\n\nexport default FileUpload;"]},"metadata":{},"sourceType":"module"}